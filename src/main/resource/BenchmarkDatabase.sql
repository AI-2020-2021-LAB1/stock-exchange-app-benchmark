CREATE SEQUENCE CONFIGURATION_SEQUENCE
	START WITH 1
	INCREMENT BY 1
	MINVALUE 1
	NO CYCLE;

CREATE SEQUENCE TEST_SEQUENCE
	START WITH 1
	INCREMENT BY 1
	MINVALUE 1
	NO CYCLE;
	
CREATE SEQUENCE RESPONSE_SEQUENCE
	START WITH 1
	INCREMENT BY 1
	MINVALUE 1
	NO CYCLE;

CREATE TYPE METHODS as ENUM('GET', 'POST', 'PUT', 'PATCH', 'DELETE');

CREATE TABLE CONFIGURATIONS
(
	ID bigint DEFAULT NEXTVAL('CONFIGURATION_SEQUENCE') PRIMARY KEY,
	NAME varchar(255) NOT NULL,
	CREATED_AT timestamp NOT NULL,
	ARCHIVED bit NOT NULL,
	PARAMETER_1 decimal NOT NULL,
	PARAMETER_2 decimal NOT NULL
);

CREATE TABLE TESTS
(
	ID bigint DEFAULT NEXTVAL('TEST_SEQUENCE') PRIMARY KEY,
	CONFIGURATION_ID bigint NOT NULL,
	START_DATE timestamp NOT NULL,
	END_DATE timestamp NOT NULL,
	FOREIGN KEY (CONFIGURATION_ID)
	REFERENCES CONFIGURATIONS (ID)
);

CREATE TABLE RESPONSES
(
	ID bigint DEFAULT NEXTVAL('RESPONSE_SEQUENCE') PRIMARY KEY,
	TEST_ID bigint NOT NULL,
	ENDPOINT varchar(255) NOT NULL,
	STATUS_CODE int NOT NULL,
	METHOD METHODS NOT NULL,
	RESPONSE_DATE timestamp NOT NULL,
	USERS_LOGGED_IN int NOT NULL,
	MEASUREMENT_1 decimal NOT NULL,
	MEASUREMENT_2 decimal NOT NULL,
	MEASUREMENT_3 decimal NOT NULL,
	FOREIGN KEY (TEST_ID)
	REFERENCES TESTS (ID)
);
